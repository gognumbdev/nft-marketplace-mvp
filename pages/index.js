import Head from 'next/head'
import Banner from '../components/Banner'
import {Box,AnimatedSphere,Iphone,Macbook,NewyorkManhattan,Ethereum,LedgerNanoS,SquidGame,NFTLogo}  from "../database/models"
import NFT3D from '../components/NFT3D'
// import { Canvas } from '@react-three/fiber';
// import { OrbitControls } from '@react-three/drei/core/OrbitControls';

export default function Home({products}) {
  const models = [Box,AnimatedSphere,Iphone,Macbook,NewyorkManhattan,Ethereum,LedgerNanoS,SquidGame,NFTLogo];
  
  return (
    <div>
      
      <Head>
        <title>FreeFlow</title>
        <meta name="description" content="Generated by create next app" />
      </Head>

      <main>

        {/* Landing Page Banner */}
        <div className='flex justify-between items-center'>
          <Banner />
          <NFT3D Model={models[0]} data={products[0]} angle={true} />
        </div>

        {/* NFTSets */}
        <div className='grid grid-cols-2 place-items-center'>
          {models.slice(1,).map((Model,index ) => (
              <NFT3D Model={Model} data={products[index+1]} />
            )
          )}
           
        </div>     



      </main>

   
    </div>
  )
}

// This function gets called at build time on server-side.
// It won't be called on client-side, so you can even do
// direct database queries.
export async function getStaticProps() {

  // Fetch products data for the landing page by request to "http://localhost:3000/api/products" route.
  const products = await fetch("http://localhost:3000/api/products").then(res => res.json())

  return {
    props: {
      products,
    },
  }
}